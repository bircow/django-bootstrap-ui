language: python
sudo: true

# Test environments
matrix:
  include:
    - env: TOXENV=py27-dj17
    - env: TOXENV=py33-dj17
    - env: TOXENV=py34-dj17
    - env: TOXENV=py27-dj18
    - env: TOXENV=py33-dj18
    - env: TOXENV=py34-dj18

# Package installation
install:
  - pip install tox coveralls

# Run tests
script:
  - tox

# Call subsequent services
after_success:
  - coveralls

# Automate deployment after success
deploy:
  provider: pypi
  user: timorieber
  password:
    secure: wkVcSUK7wFGTU5OOLiDxxIzHg/bSOTM4lUzmcV98jNJDH6AzF7hypFMw0ZITh0KTqWxDTE/BQ35HX96hSREMy4iKlO2v4CJU6LLIrjCiyCkO1+RDU4RZnbLsVuQPxFD0jcPNJ3eLOnfIXlb08U7XeWtXTb6d6THXdk5JJwSVlok=
  on:
    tags: true
    repo: timorieber/django-bootstrap-ui
  distributions: sdist bdist_wheel
